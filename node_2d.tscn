[gd_scene load_steps=27 format=4 uid="uid://cq7jfqid4pjt2"]

[ext_resource type="Texture2D" uid="uid://bj04vntg64lw5" path="res://icon.svg" id="1_0lk6c"]
[ext_resource type="Script" path="res://character_body_2d.gd" id="1_lfuix"]
[ext_resource type="Script" path="res://new_script.gd" id="2_0odp4"]
[ext_resource type="Texture2D" uid="uid://ct77hsl52qxgb" path="res://551cc3fd67aeaaf (1).png" id="3_jcc0i"]
[ext_resource type="Script" path="res://playerCollision.gd" id="4_2y4d7"]
[ext_resource type="Script" path="res://slime_2_2d.gd" id="4_tgr73"]
[ext_resource type="Script" path="res://animation_script.gd" id="5_gk6m3"]
[ext_resource type="Script" path="res://big_slime.gd" id="7_v2y33"]
[ext_resource type="Script" path="res://slime_input_delay.gd" id="8_jm5xw"]
[ext_resource type="Texture2D" uid="uid://cupxi4beigahc" path="res://973eaedf89f6405 (1).png" id="9_rcrtl"]
[ext_resource type="Script" path="res://slime_merge_delay.gd" id="10_ud7et"]
[ext_resource type="Script" path="res://player_3_body.gd" id="11_dxnox"]
[ext_resource type="Script" path="res://player_4_body.gd" id="13_ysa2l"]
[ext_resource type="Script" path="res://merging_engine.gd" id="14_p8mhi"]

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_8qvxm"]
texture = ExtResource("9_rcrtl")
0:0/0 = 0
0:0/0/terrain_set = 0
0:0/0/terrain = 0
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:0/0/terrains_peering_bit/right_side = 0
0:0/0/terrains_peering_bit/bottom_side = 0
1:0/0 = 0
1:0/0/terrain_set = 0
1:0/0/terrain = 0
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:0/0/terrains_peering_bit/right_side = 0
1:0/0/terrains_peering_bit/bottom_side = 0
1:0/0/terrains_peering_bit/left_side = 0
2:0/0 = 0
2:0/0/terrain_set = 0
2:0/0/terrain = 0
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:0/0/terrains_peering_bit/bottom_side = 0
2:0/0/terrains_peering_bit/left_side = 0
0:1/0 = 0
0:1/0/terrain_set = 0
0:1/0/terrain = 0
0:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:1/0/terrains_peering_bit/right_side = 0
0:1/0/terrains_peering_bit/bottom_side = 0
0:1/0/terrains_peering_bit/top_side = 0
1:1/0 = 0
1:1/0/terrain_set = 0
1:1/0/terrain = 0
1:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:1/0/terrains_peering_bit/right_side = 0
1:1/0/terrains_peering_bit/bottom_side = 0
1:1/0/terrains_peering_bit/left_side = 0
1:1/0/terrains_peering_bit/top_side = 0
2:1/0 = 0
2:1/0/terrain_set = 0
2:1/0/terrain = 0
2:1/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:1/0/terrains_peering_bit/bottom_side = 0
2:1/0/terrains_peering_bit/left_side = 0
2:1/0/terrains_peering_bit/top_side = 0
0:2/0 = 0
0:2/0/terrain_set = 0
0:2/0/terrain = 0
0:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:2/0/terrains_peering_bit/right_side = 0
0:2/0/terrains_peering_bit/top_side = 0
1:2/0 = 0
1:2/0/terrain_set = 0
1:2/0/terrain = 0
1:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:2/0/terrains_peering_bit/right_side = 0
1:2/0/terrains_peering_bit/left_side = 0
1:2/0/terrains_peering_bit/top_side = 0
2:2/0 = 0
2:2/0/terrain_set = 0
2:2/0/terrain = 0
2:2/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:2/0/terrains_peering_bit/left_side = 0
2:2/0/terrains_peering_bit/top_side = 0
0:3/0 = 0
0:3/0/terrain_set = 0
0:3/0/terrain = 0
0:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:3/0/terrains_peering_bit/bottom_side = 0
1:3/0 = 0
1:3/0/terrain_set = 0
1:3/0/terrain = 0
1:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
1:3/0/terrains_peering_bit/right_side = 0
2:3/0 = 0
2:3/0/terrain_set = 0
2:3/0/terrain = 0
2:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
2:3/0/terrains_peering_bit/right_side = 0
2:3/0/terrains_peering_bit/left_side = 0
3:3/0 = 0
3:3/0/terrain_set = 0
3:3/0/terrain = 0
3:3/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
3:3/0/terrains_peering_bit/left_side = 0
1:4/0 = 0
1:4/0/terrain_set = 0
1:4/0/terrain = 0
1:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:4/0 = 0
0:4/0/terrain_set = 0
0:4/0/terrain = 0
0:4/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:4/0/terrains_peering_bit/bottom_side = 0
0:4/0/terrains_peering_bit/top_side = 0
0:5/0 = 0
0:5/0/terrain_set = 0
0:5/0/terrain = 0
0:5/0/physics_layer_0/polygon_0/points = PackedVector2Array(-8, -8, 8, -8, 8, 8, -8, 8)
0:5/0/terrains_peering_bit/top_side = 0

[sub_resource type="TileSet" id="TileSet_762ot"]
physics_layer_0/collision_layer = 1
terrain_set_0/mode = 2
terrain_set_0/terrain_0/name = "Terrain"
terrain_set_0/terrain_0/color = Color(0.5, 0.34375, 0.25, 1)
terrain_set_0/terrain_1/name = "Background"
terrain_set_0/terrain_1/color = Color(0.5, 0.4375, 0.25, 1)
custom_data_layer_0/name = ""
custom_data_layer_0/type = 0
sources/1 = SubResource("TileSetAtlasSource_8qvxm")

[sub_resource type="CanvasItemMaterial" id="CanvasItemMaterial_by6cd"]

[sub_resource type="Animation" id="Animation_frcoi"]
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [0]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath(".:frame_coords")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_snefw"]
resource_name = "idle"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame_coords")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2i(0, 0)]
}

[sub_resource type="Animation" id="Animation_udype"]
resource_name = "start_running"
length = 0.4
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 0.2, 0.3),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 1,
"values": [0, 1, 2, 3]
}

[sub_resource type="Animation" id="Animation_q1n6k"]
resource_name = "running-loop"
length = 0.45
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:frame")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.15, 0.3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [4, 5, 6]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_4c86s"]
_data = {
"RESET": SubResource("Animation_frcoi"),
"idle": SubResource("Animation_snefw"),
"running-loop": SubResource("Animation_q1n6k"),
"start_running": SubResource("Animation_udype")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_kf7ib"]
size = Vector2(19, 19)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_7bwy1"]
size = Vector2(19, 19)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wy72w"]
size = Vector2(321, 267)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_budch"]
size = Vector2(432, 243)

[node name="Scene" type="Node2D"]
physics_interpolation_mode = 1
position = Vector2(13, -114)

[node name="TileMapLayer" type="TileMapLayer" parent="."]
position = Vector2(-134, -199)
tile_map_data = PackedByteArray("AAAIACIAAQABAAMAAAAJACIAAQACAAIAAAAJACEAAQAAAAAAAAAKACEAAQACAAMAAAALACEAAQACAAMAAAAMACEAAQACAAMAAAANACEAAQACAAAAAAANACIAAQAAAAIAAAAOACIAAQACAAMAAAAPACIAAQADAAMAAAAQACEAAQABAAMAAAARACEAAQACAAIAAAARACAAAQAAAAAAAAASACAAAQACAAMAAAATAB8AAQAAAAMAAAATACAAAQABAAIAAAAUACAAAQACAAMAAAAVACAAAQACAAAAAAAVACEAAQAAAAIAAAAWACEAAQACAAMAAAAXACEAAQADAAMAAAAYACIAAQABAAMAAAAZACIAAQACAAMAAAAaACIAAQACAAIAAAAaACEAAQAAAAAAAAAbACEAAQADAAMAAAAhACIAAQAAAAIAAAAiACIAAQABAAIAAAAkACIAAQADAAMAAAAjACIAAQACAAMAAAAlACEAAQABAAMAAAAmACEAAQACAAMAAAAnACEAAQACAAAAAAAnACIAAQAAAAIAAAAoACIAAQACAAAAAAAoACMAAQAAAAIAAAApACMAAQADAAMAAAAqACIAAQAAAAUAAAAqACEAAQAAAAEAAAArACEAAQACAAIAAAArACAAAQACAAAAAAAqACAAAQAAAAEAAAAqAB8AAQACAAAAAAApAB8AAQACAAMAAAAoAB8AAQACAAMAAAAnAB8AAQACAAMAAAAmAB8AAQACAAMAAAAlAB8AAQACAAMAAAAkAB8AAQAAAAAAAAAkACAAAQACAAIAAAAjACAAAQABAAMAAAAiACEAAQACAAAAAAAhACEAAQABAAAAAAAgACEAAQACAAMAAAAfACEAAQAAAAIAAAAfACAAAQACAAAAAAAeACAAAQABAAMAAAA=")
tile_set = SubResource("TileSet_762ot")

[node name="CharacterBody2D2" type="CharacterBody2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(256, 274)
collision_layer = 2
script = ExtResource("1_lfuix")

[node name="Sprite2D" type="Sprite2D" parent="CharacterBody2D2"]
physics_interpolation_mode = 1
material = SubResource("CanvasItemMaterial_by6cd")
position = Vector2(-3, 2)
texture = ExtResource("3_jcc0i")
hframes = 3
vframes = 4
script = ExtResource("2_0odp4")

[node name="AnimationPlayer" type="AnimationPlayer" parent="CharacterBody2D2"]
root_node = NodePath("../Sprite2D")
libraries = {
"": SubResource("AnimationLibrary_4c86s")
}
script = ExtResource("5_gk6m3")

[node name="Area2D" type="Area2D" parent="CharacterBody2D2"]
script = ExtResource("4_2y4d7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D2/Area2D"]
shape = SubResource("RectangleShape2D_kf7ib")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D2"]
shape = SubResource("RectangleShape2D_7bwy1")

[node name="CharacterBody2D" type="CharacterBody2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(164, 289)
collision_layer = 2
script = ExtResource("4_tgr73")

[node name="Sprite2D2" type="Sprite2D" parent="CharacterBody2D"]
physics_interpolation_mode = 1
material = SubResource("CanvasItemMaterial_by6cd")
position = Vector2(-3, 2)
texture = ExtResource("3_jcc0i")
hframes = 3
vframes = 4
script = ExtResource("2_0odp4")

[node name="AnimationPlayer2" type="AnimationPlayer" parent="CharacterBody2D"]
root_node = NodePath("../Sprite2D2")
libraries = {
"": SubResource("AnimationLibrary_4c86s")
}
script = ExtResource("5_gk6m3")

[node name="Area2D" type="Area2D" parent="CharacterBody2D"]
script = ExtResource("4_2y4d7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D/Area2D"]
shape = SubResource("RectangleShape2D_kf7ib")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D"]
shape = SubResource("RectangleShape2D_7bwy1")

[node name="CharacterBody2D3" type="CharacterBody2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(93, 276)
collision_layer = 2
script = ExtResource("11_dxnox")

[node name="Sprite2D3" type="Sprite2D" parent="CharacterBody2D3"]
physics_interpolation_mode = 1
material = SubResource("CanvasItemMaterial_by6cd")
position = Vector2(-3, 2)
texture = ExtResource("3_jcc0i")
hframes = 3
vframes = 4
script = ExtResource("2_0odp4")

[node name="AnimationPlayer3" type="AnimationPlayer" parent="CharacterBody2D3"]
root_node = NodePath("../Sprite2D3")
libraries = {
"": SubResource("AnimationLibrary_4c86s")
}
script = ExtResource("5_gk6m3")

[node name="Area2D" type="Area2D" parent="CharacterBody2D3"]
script = ExtResource("4_2y4d7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D3/Area2D"]
shape = SubResource("RectangleShape2D_kf7ib")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D3"]
shape = SubResource("RectangleShape2D_7bwy1")

[node name="CharacterBody2D4" type="CharacterBody2D" parent="."]
physics_interpolation_mode = 1
position = Vector2(35, 244)
collision_layer = 2
script = ExtResource("13_ysa2l")

[node name="Sprite2D4" type="Sprite2D" parent="CharacterBody2D4"]
physics_interpolation_mode = 1
material = SubResource("CanvasItemMaterial_by6cd")
position = Vector2(-3, 2)
texture = ExtResource("3_jcc0i")
hframes = 3
vframes = 4
script = ExtResource("2_0odp4")

[node name="AnimationPlayer4" type="AnimationPlayer" parent="CharacterBody2D4"]
root_node = NodePath("../Sprite2D4")
libraries = {
"": SubResource("AnimationLibrary_4c86s")
}
script = ExtResource("5_gk6m3")

[node name="Area2D" type="Area2D" parent="CharacterBody2D4"]
script = ExtResource("4_2y4d7")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D4/Area2D"]
shape = SubResource("RectangleShape2D_kf7ib")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CharacterBody2D4"]
shape = SubResource("RectangleShape2D_7bwy1")

[node name="BigSlime" type="CharacterBody2D" parent="."]
position = Vector2(407, 275)
scale = Vector2(0.222215, 0.265106)
script = ExtResource("7_v2y33")

[node name="CollisionShape2D" type="CollisionShape2D" parent="BigSlime"]
position = Vector2(27.9957, 19.8819)
shape = SubResource("RectangleShape2D_wy72w")

[node name="Sprite2D" type="Sprite2D" parent="BigSlime"]
position = Vector2(30.9957, 22.3819)
scale = Vector2(2.38281, 2)
texture = ExtResource("1_0lk6c")

[node name="SlimeInputDelay" type="Timer" parent="BigSlime"]
wait_time = 3.0
one_shot = true
script = ExtResource("8_jm5xw")

[node name="SlimeMergeDelay" type="Timer" parent="."]
one_shot = true
autostart = true
script = ExtResource("10_ud7et")

[node name="MergingEngine" type="Node2D" parent="."]
script = ExtResource("14_p8mhi")

[node name="VIEWPORT_SIZE_TEMP" type="CollisionShape2D" parent="."]
position = Vector2(203, 235)
shape = SubResource("RectangleShape2D_budch")

[connection signal="detect1" from="CharacterBody2D2" to="MergingEngine" method="_on_character_body_2d_2_detect_1"]
[connection signal="mergecheck3" from="CharacterBody2D2" to="SlimeMergeDelay" method="_on_character_body_2d_2_mergecheck_3"]
[connection signal="animation_finished" from="CharacterBody2D2/AnimationPlayer" to="CharacterBody2D2/AnimationPlayer" method="_on_animation_finished"]
[connection signal="area_entered" from="CharacterBody2D2/Area2D" to="CharacterBody2D2" method="_on_area_2d_area_entered"]
[connection signal="body_entered" from="CharacterBody2D2/Area2D" to="CharacterBody2D2" method="_on_area_2d_body_entered"]
[connection signal="animation_finished" from="CharacterBody2D/AnimationPlayer2" to="CharacterBody2D/AnimationPlayer2" method="_on_animation_finished"]
[connection signal="area_entered" from="CharacterBody2D/Area2D" to="CharacterBody2D" method="_on_area_2d_area_entered"]
[connection signal="body_entered" from="CharacterBody2D/Area2D" to="CharacterBody2D" method="_on_area_2d_body_entered"]
[connection signal="animation_finished" from="CharacterBody2D3/AnimationPlayer3" to="CharacterBody2D3/AnimationPlayer3" method="_on_animation_finished"]
[connection signal="area_entered" from="CharacterBody2D3/Area2D" to="CharacterBody2D3" method="_on_area_2d_area_entered"]
[connection signal="body_entered" from="CharacterBody2D3/Area2D" to="CharacterBody2D3" method="_on_area_2d_body_entered"]
[connection signal="animation_finished" from="CharacterBody2D4/AnimationPlayer4" to="CharacterBody2D4/AnimationPlayer4" method="_on_animation_finished"]
[connection signal="area_entered" from="CharacterBody2D4/Area2D" to="CharacterBody2D4" method="_on_area_2d_area_entered"]
[connection signal="body_entered" from="CharacterBody2D4/Area2D" to="CharacterBody2D4" method="_on_area_2d_body_entered"]
[connection signal="cooldownstart" from="BigSlime" to="SlimeMergeDelay" method="_on_big_slime_cooldownstart"]
[connection signal="delaystart" from="BigSlime" to="BigSlime/SlimeInputDelay" method="_on_big_slime_delaystart"]
[connection signal="hideslime" from="BigSlime" to="CharacterBody2D2" method="_on_big_slime_hideslime"]
[connection signal="mergecheck" from="BigSlime" to="SlimeMergeDelay" method="_on_big_slime_mergecheck"]
[connection signal="timeout" from="BigSlime/SlimeInputDelay" to="BigSlime" method="_on_slime_input_delay_timeout"]
[connection signal="allowmerge" from="SlimeMergeDelay" to="CharacterBody2D2" method="_on_slime_merge_delay_allowmerge"]
[connection signal="allowmerge" from="SlimeMergeDelay" to="BigSlime" method="_on_slime_merge_delay_allowmerge"]
[connection signal="stopmerge" from="SlimeMergeDelay" to="CharacterBody2D2" method="_on_slime_merge_delay_stopmerge"]
[connection signal="stopmerge" from="SlimeMergeDelay" to="BigSlime" method="_on_slime_merge_delay_stopmerge"]
[connection signal="timeout" from="SlimeMergeDelay" to="CharacterBody2D2" method="_on_slime_merge_delay_timeout"]
[connection signal="timeout" from="SlimeMergeDelay" to="SlimeMergeDelay" method="_on_timeout"]
